schema: '2.0'
stages:
  data_ingestion:
    cmd: python -m 
      src.Chest_Cancer_Classification.pipeline.stage_1_data_ingestion
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 331bf581d02af79c147d654c3eeee23f
      size: 586
    - path: src/Chest_Cancer_Classification/pipeline/stage_1_data_ingestion.py
      hash: md5
      md5: 09628d86c8edb53854a31017c9fd718d
      size: 1005
    outs:
    - path: artifacts/data_ingestion/Chest-CT-Scan_data
      hash: md5
      md5: dda429481c78df8f77b95f71432c6e89.dir
      size: 124956798
      nfiles: 1000
  prepare_base_model:
    cmd: python -m 
      src.Chest_Cancer_Classification.pipeline.stage_2_prepare_base_model
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 331bf581d02af79c147d654c3eeee23f
      size: 586
    - path: 
        src/Chest_Cancer_Classification/pipeline/stage_2_prepare_base_model.py
      hash: md5
      md5: ab57be12a665b59a1773b89679fd1f9f
      size: 1054
    params:
      params.yaml:
        CLASSES: 4
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.02
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model/base_model_updated.h5
      hash: md5
      md5: 13a3627ac71a0d868bb0a35409593cae
      size: 59348152
  training:
    cmd: python -m 
      src.Chest_Cancer_Classification.pipeline.stage_3_model_trainer
    deps:
    - path: artifacts/data_ingestion/Chest-CT-Scan_data
      hash: md5
      md5: dda429481c78df8f77b95f71432c6e89.dir
      size: 124956798
      nfiles: 1000
    - path: artifacts/prepare_base_model
      hash: md5
      md5: cb774c261fd5c005ba6393cb9d87f819.dir
      size: 59348152
      nfiles: 1
    - path: config/config.yaml
      hash: md5
      md5: 331bf581d02af79c147d654c3eeee23f
      size: 586
    - path: src/Chest_Cancer_Classification/pipeline/stage_3_model_trainer.py
      hash: md5
      md5: ea91960764f1c20ab408685a85ea4946
      size: 991
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 1
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 8b715c7cc73e36a86455bf7074d5ae6c
      size: 60153352
  evaluation:
    cmd: python -m 
      src.Chest_Cancer_Classification.pipeline.stage_4_model_evaluation
    deps:
    - path: artifacts/data_ingestion/Chest-CT-Scan_data
      hash: md5
      md5: dda429481c78df8f77b95f71432c6e89.dir
      size: 124956798
      nfiles: 1000
    - path: artifacts/training/model.h5
      hash: md5
      md5: 8b715c7cc73e36a86455bf7074d5ae6c
      size: 60153352
    - path: config/config.yaml
      hash: md5
      md5: 331bf581d02af79c147d654c3eeee23f
      size: 586
    - path: src/Chest_Cancer_Classification/pipeline/stage_4_model_evaluation.py
      hash: md5
      md5: 408300b0e55c42cd49b319d70642e604
      size: 995
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: c914090814ad712e60372a656c368a3e
      size: 73
